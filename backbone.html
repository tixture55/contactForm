<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>タイトル</title>
</head>
<body>
<h3>今月の勤務の感想入力</h3>
<br>
<br>
今月の感想：
<br>
<textarea name="text_impression"></textarea>
<br>
<br>
<input class="hello-button" style="WIDTH: 70px;" type="button" value="send" name="detailCashing">

<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.3.3/backbone-min.js"></script>
<script>
    var User = Backbone.Model.extend({
        defaults: {
            id: "",
            name: "",
        },
        initialize: function (firstInitialize) {
            console.log("model initialized");
        }
    });

var Task = Backbone.Model.extend({
        defaults: {
            url: '/api/hoge',
            title: "do something!",
            completed: false
        },

        initialize: function () {
            this.on('initialize', this.setRegisterDate);
            this.trigger('initialize');
        },
        setRegisterDate: function () {
            this.set('registerDate', new Date());
        },
        toggle: function () {
            this.set('completed', !this.get('completed'));
        }

    });

var task = new Task();

    var TaskView = Backbone.View.extend({
        template: _.template("<%- title %>"),
        events: {
            "click  .squre_btn": "onAdd",
            "click .hello-button": "hello"
        },
        initialize: function () {
            $('.hello-button').click(this.hello); 
            this.listenTo(this.collection, 'change', function (model) {
                console.log('collection catch ' + model.get('name') + ' model change event');
            });
            
        },
        expression: function (param) {
        },
        hello: function () {
	    var elm=document.getElementsByName('text_impression');
	    
	    $("body").append("<p>テキスト</p>"); // 追記
            this.expression = function (param) {

		var head_http_match = param.match(/^http:\/\//);
		var head_https_match = param.match(/^https:\/\//);
		var country_domain_match = param.match(/jp/);	
	
		if ( (head_http_match || head_https_match ) && country_domain_match) {
			alert(param);		
		}else{
			alert('入力された値はURLではありません。');
		}
	    };
	    this.expression(elm[0].value);
        },
        render: function () {
            var template = this.template(this.model.toJSON());
            this.$el.html(template);
            return this;
        },
    });
    var taskView = new TaskView({model: task});
</script>
</body>
</html>
